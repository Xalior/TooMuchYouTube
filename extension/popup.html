<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TooMuchYouTube</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="content">
      <main class="wrap" id="editor">
      <header class="header">
        <div class="brand">
          <img class="logo" src="icons/icon-128.png" alt="" />
          <div>
            <h1>TooMuchYouTube</h1>
            <p class="hint">Your time. Your playback speed.</p>
          </div>
        </div>
        <div class="header-actions">
          <button
            id="aboutOpen"
            class="icon-button"
            type="button"
            aria-label="Open about"
            title="About"
          >
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path
                fill="currentColor"
                d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0 4.75a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zm1.5 11h-3v-1.5h1v-4h-1v-1.5h2.5v5.5h.5v1.5z"
              />
            </svg>
          </button>
          <button
            id="aboutClose"
            class="icon-button hidden"
            type="button"
            aria-label="Close about"
            title="Close"
          >
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path
                fill="currentColor"
                d="M18.3 5.7 12 12l6.3 6.3-1.3 1.4L10.6 13.4 4.3 19.7 3 18.3 9.4 12 3 5.7 4.3 4.3l6.3 6.4 6.3-6.4 1.4 1.4z"
              />
            </svg>
          </button>
          <a
            class="github-link"
            href="https://github.com/Xalior/TooMuchYouTube"
            target="_blank"
            rel="noreferrer"
            aria-label="Open GitHub repository"
            title="Open GitHub repository"
          >
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path
                fill="currentColor"
                d="M12 2C6.48 2 2 6.58 2 12.26c0 4.55 2.87 8.41 6.84 9.77.5.1.68-.22.68-.49 0-.24-.01-.88-.01-1.72-2.78.62-3.37-1.37-3.37-1.37-.46-1.2-1.12-1.52-1.12-1.52-.92-.65.07-.64.07-.64 1.02.07 1.56 1.07 1.56 1.07.9 1.6 2.36 1.14 2.94.87.09-.67.35-1.14.63-1.4-2.22-.26-4.56-1.15-4.56-5.1 0-1.13.39-2.05 1.03-2.78-.1-.26-.45-1.32.1-2.74 0 0 .84-.28 2.75 1.06A9.3 9.3 0 0 1 12 7.1a9.3 9.3 0 0 1 2.5.35c1.9-1.34 2.75-1.06 2.75-1.06.55 1.42.2 2.48.1 2.74.64.73 1.03 1.65 1.03 2.78 0 3.96-2.35 4.84-4.58 5.1.36.32.68.94.68 1.9 0 1.37-.01 2.48-.01 2.82 0 .27.18.6.69.49A10.03 10.03 0 0 0 22 12.26C22 6.58 17.52 2 12 2z"
              />
            </svg>
          </a>
        </div>
      </header>

        <section class="panel rules-panel">
          <div class="table">
            <div class="row header">
              <span>&nbsp</span>
              <span>Match type</span>
              <span>Match value</span>
              <span>Speed</span>
              <span>&nbsp;</span>
            </div>
            <div id="rulesBody" class="body"></div>
          </div>
        </section>

        <section id="aboutPanel" class="panel about-panel hidden" role="status">
          <h2>About</h2>
          <p class="hint">
            TooMuchYouTube applies playback speed rules per channel, title, or video ID. First match
            wins. Reorder rules to control priority.
          </p>
          <p class="hint">Build mode: <span id="aboutBuildMode">debug</span></p>
          <p class="hint">Repo: github.com/Xalior/TooMuchYouTube</p>
        </section>

        <span id="status" class="status" role="status"></span>
      </main>
      <div id="notYoutube" class="panel empty-state hidden" role="status">
        <h2>Open YouTube</h2>
        <p class="hint">Switch to a YouTube tab to edit playback rules.</p>
      </div>
    </div>
    <footer class="bottom-bar">
      <div class="add-controls">
        <div class="quick-add">
          <button id="quickAddChannel" type="button" class="quick-btn btn-positive">Add Channel</button>
          <button id="quickAddVideo" type="button" class="quick-btn btn-positive">Add Video</button>
        </div>
        <div class="add-row">
          <select id="newType">
            <option value="channel">Channel</option>
            <option value="videoId">Video</option>
            <option value="title">Title</option>
          </select>
          <input id="newValue" type="text" placeholder="This Week In Tech" />
          <input id="newSpeed" type="number" min="0.25" max="4" step="0.25" placeholder="2.0" />
          <button id="addRule" type="button" class="btn-positive">Add</button>
        </div>
      </div>
      <span id="debugInfo" class="debug-info hidden"></span>
      <div class="not-youtube-bar">
        <span class="not-youtube-title">TooMuchYouTube</span>
        <button
          id="aboutOpenBottom"
          class="icon-button small"
          type="button"
          aria-label="Open about"
          title="About"
        >
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path
              fill="currentColor"
              d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0 4.75a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zm1.5 11h-3v-1.5h1v-4h-1v-1.5h2.5v5.5h.5v1.5z"
            />
          </svg>
        </button>
        <button
          id="aboutCloseBottom"
          class="icon-button small hidden"
          type="button"
          aria-label="Close about"
          title="Close"
        >
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path
              fill="currentColor"
              d="M18.3 5.7 12 12l6.3 6.3-1.3 1.4L10.6 13.4 4.3 19.7 3 18.3 9.4 12 3 5.7 4.3 4.3l6.3 6.4 6.3-6.4 1.4 1.4z"
            />
          </svg>
        </button>
        <a
          class="github-link small"
          href="https://github.com/Xalior/TooMuchYouTube"
          target="_blank"
          rel="noreferrer"
          aria-label="Open GitHub repository"
          title="Open GitHub repository"
        >
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path
              fill="currentColor"
              d="M12 2C6.48 2 2 6.58 2 12.26c0 4.55 2.87 8.41 6.84 9.77.5.1.68-.22.68-.49 0-.24-.01-.88-.01-1.72-2.78.62-3.37-1.37-3.37-1.37-.46-1.2-1.12-1.52-1.12-1.52-.92-.65.07-.64.07-.64 1.02.07 1.56 1.07 1.56 1.07.9 1.6 2.36 1.14 2.94.87.09-.67.35-1.14.63-1.4-2.22-.26-4.56-1.15-4.56-5.1 0-1.13.39-2.05 1.03-2.78-.1-.26-.45-1.32.1-2.74 0 0 .84-.28 2.75 1.06A9.3 9.3 0 0 1 12 7.1a9.3 9.3 0 0 1 2.5.35c1.9-1.34 2.75-1.06 2.75-1.06.55 1.42.2 2.48.1 2.74.64.73 1.03 1.65 1.03 2.78 0 3.96-2.35 4.84-4.58 5.1.36.32.68.94.68 1.9 0 1.37-.01 2.48-.01 2.82 0 .27.18.6.69.49A10.03 10.03 0 0 0 22 12.26C22 6.58 17.52 2 12 2z"
            />
          </svg>
        </a>
      </div>
    </footer>
    <script src="dist/popup.js"></script>
  </body>
</html>
